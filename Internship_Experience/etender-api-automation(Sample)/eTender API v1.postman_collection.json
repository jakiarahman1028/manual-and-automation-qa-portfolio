{
	"info": {
		"_postman_id": "demo-4170-b6bc-31b64dc62739",
		"name": "eTender API v1",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "46833705",
		"_collection_link": ""
	},
	"item": [
		{
			"name": "Master",
			"item": [
				{
					"name": "Department",
					"item": [
						{
							"name": "Create Department",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Parse response JSON once\r",
											"let response = pm.response.json();\r",
											"\r",
											"// Test status code\r",
											"pm.test(\"Status code is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"// Save departmentName from request body\r",
											"let requestBodyRaw = pm.request.body.raw;\r",
											"let requestBody = JSON.parse(requestBodyRaw);\r",
											"\r",
											"// Make sure request has 'name'\r",
											"pm.test(\"Request body has name\", () => {\r",
											"    pm.expect(requestBody.name, \"Missing name in request body\").to.exist;\r",
											"});\r",
											"\r",
											"// Save environment variable\r",
											"pm.environment.set(\"departmentName\", requestBody.name);\r",
											"\r",
											"// Validate response fields\r",
											"pm.test(\"Department creation successful\", () => {\r",
											"    pm.expect(response.success).to.be.true;\r",
											"    pm.expect(response.statusCode).to.eql(200);\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"name\": \"ex22\",\r\n  \"departmentTag\": \"ex22\",\r\n  \"remarks\": \"ex-22\",\r\n  \"isActive\": true,\r\n  \"createdBy\": \"None\"\r\n}\r\n",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/departments",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"departments"
									]
								}
							},
							"response": []
						},
						{
							"name": "All Department",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Parse response JSON\r",
											"const responseJson = pm.response.json();\r",
											"const deptList = responseJson.data; // renamed variable\r",
											"\r",
											"// Status code check\r",
											"pm.test(\"Status code is 200\", () => pm.response.to.have.status(200));\r",
											"\r",
											"// Validate data is array\r",
											"pm.test(\"Data is an array\", () => pm.expect(deptList).to.be.an('array'));\r",
											"\r",
											"// Get departmentName from environment\r",
											"const targetName = pm.environment.get(\"departmentName\");\r",
											"\r",
											"// Check variable exists\r",
											"pm.test(\"departmentName variable exists\", () => {\r",
											"    pm.expect(targetName, \"departmentName is missing\").to.exist;\r",
											"});\r",
											"\r",
											"// Find exact match\r",
											"const foundDept = deptList.find(d => d.name && d.name === targetName);\r",
											"\r",
											"pm.test(\"Created department found\", () => {\r",
											"    pm.expect(foundDept, `Department '${targetName}' not found`).to.exist;\r",
											"});\r",
											"\r",
											"// Sort departments by creationDate descending (latest first)\r",
											"const sorted = deptList.slice().sort((a, b) => new Date(b.creationDate) - new Date(a.creationDate));\r",
											"\r",
											"// Latest created department\r",
											"const newestDept = sorted[0];\r",
											"\r",
											"pm.test(\"Newest department exists\", () => pm.expect(newestDept).to.exist);\r",
											"\r",
											"// Save ID + Name for both environment and collection variables\r",
											"if (newestDept) {\r",
											"    // Environment\r",
											"    pm.environment.set(\"departmentId\", newestDept.id);\r",
											"    pm.environment.set(\"departmentName\", newestDept.name);\r",
											"\r",
											"    // Collection\r",
											"    pm.collectionVariables.set(\"departmentId\", newestDept.id);\r",
											"    pm.collectionVariables.set(\"departmentName\", newestDept.name);\r",
											"\r",
											"    console.log(\"Newest Department ID:\", newestDept.id);\r",
											"    console.log(\"Newest Department Name:\", newestDept.name);\r",
											"}\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/departments?isActive=true",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"departments"
									],
									"query": [
										{
											"key": "isActive",
											"value": "true"
										},
										{
											"key": "",
											"value": null,
											"disabled": true
										}
									]
								}
							},
							"response": [
								{
									"name": "All Department",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{base_url}}/api/v1/departments?isActive=true",
											"host": [
												"{{base_url}}"
											],
											"path": [
												"api",
												"v1",
												"departments"
											],
											"query": [
												{
													"key": "isActive",
													"value": "true"
												},
												{
													"key": "",
													"value": null,
													"disabled": true
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": null,
									"header": [
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Server",
											"value": "Microsoft-IIS/10.0"
										},
										{
											"key": "api-supported-versions",
											"value": "1.0"
										},
										{
											"key": "X-Powered-By",
											"value": "ASP.NET"
										},
										{
											"key": "Date",
											"value": "Wed, 10 Dec 2025 08:07:13 GMT"
										}
									],
									"cookie": [],
									"body": "{\n    \"success\": true,\n    \"message\": \"Departments loaded successfully\",\n    \"statusCode\": 200,\n    \"data\": [\n        {\n            \"id\": \"c44d56d9-178e-4b5a-a2b5-2a8d4359902b\",\n            \"name\": \"ex22\",\n            \"departmentTag\": \"ex22\",\n            \"remarks\": \"ex-22\",\n            \"isActive\": true,\n            \"createdBy\": \"None\",\n            \"creationDate\": \"2025-12-10T13:01:29.49\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"04165715-4698-4431-bde1-1f956c9a3c1a\",\n            \"name\": \"Audit-22\",\n            \"departmentTag\": \"Audit 22\",\n            \"remarks\": \"Audit-22\",\n            \"isActive\": true,\n            \"createdBy\": \"None\",\n            \"creationDate\": \"2025-12-10T12:51:35.037\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"8a569862-b144-4db1-8dbe-8a95c79e458e\",\n            \"name\": \"Audit-22\",\n            \"departmentTag\": \"Audit 22\",\n            \"remarks\": \"Audit-22\",\n            \"isActive\": true,\n            \"createdBy\": \"None\",\n            \"creationDate\": \"2025-12-10T12:36:29.47\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"1be2eb66-7ed9-46a5-ba31-b2ba84f1dfc3\",\n            \"name\": \"Audit-22\",\n            \"departmentTag\": \"Audit 22\",\n            \"remarks\": \"Audit-22\",\n            \"isActive\": true,\n            \"createdBy\": \"None\",\n            \"creationDate\": \"2025-12-10T12:35:17.787\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"ac30db66-142f-4298-b5c0-1ba69997bf1c\",\n            \"name\": \"Audit-22\",\n            \"departmentTag\": \"Audit 22\",\n            \"remarks\": \"Audit-22\",\n            \"isActive\": true,\n            \"createdBy\": \"None\",\n            \"creationDate\": \"2025-12-10T12:32:40.197\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"2d2afa3f-31b6-411b-965b-dbfc9785a414\",\n            \"name\": \"MIS-22\",\n            \"departmentTag\": \"MIS 22\",\n            \"remarks\": \"Responsible-MIS 22\",\n            \"isActive\": true,\n            \"createdBy\": \"Urmi\",\n            \"creationDate\": \"2025-12-10T10:43:40.27\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"ecbcf296-cabd-47ed-8eb1-29382636a96e\",\n            \"name\": \"MIS-22\",\n            \"departmentTag\": \"MIS 22\",\n            \"remarks\": \"Responsible-MIS 22\",\n            \"isActive\": true,\n            \"createdBy\": \"Urmi\",\n            \"creationDate\": \"2025-12-10T10:42:35.173\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"dc954d67-1585-4638-873f-5a3ebc3f0059\",\n            \"name\": \"SMD-22\",\n            \"departmentTag\": \"SMD 22\",\n            \"remarks\": \"SMD-22\",\n            \"isActive\": true,\n            \"createdBy\": \"None\",\n            \"creationDate\": \"2025-12-10T10:32:16.683\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"07cf711b-e76e-441c-bc45-d5ead79eecef\",\n            \"name\": \"MIS-22\",\n            \"departmentTag\": \"MIS 22\",\n            \"remarks\": \"Responsible-MIS 22\",\n            \"isActive\": true,\n            \"createdBy\": \"Urmi\",\n            \"creationDate\": \"2025-12-09T17:42:27.18\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"8bb1e9ad-b397-47d3-804d-a0bb25552232\",\n            \"name\": \"MIS-22\",\n            \"departmentTag\": \"MIS 22\",\n            \"remarks\": \"Responsible-MIS 22\",\n            \"isActive\": true,\n            \"createdBy\": \"Urmi\",\n            \"creationDate\": \"2025-12-09T17:41:04\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"7340f7c3-7ce0-4296-a61b-cc9b1ab08cb3\",\n            \"name\": \"MIS-22\",\n            \"departmentTag\": \"MIS 22\",\n            \"remarks\": \"Responsible-MIS 22\",\n            \"isActive\": true,\n            \"createdBy\": \"Urmi\",\n            \"creationDate\": \"2025-12-09T17:38:46.637\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"7aac3def-b91d-4fef-ad8d-f8d038827f7e\",\n            \"name\": \"MIS-22\",\n            \"departmentTag\": \"MIS 22\",\n            \"remarks\": \"Responsible-MIS 22\",\n            \"isActive\": true,\n            \"createdBy\": \"Urmi\",\n            \"creationDate\": \"2025-12-09T17:36:14.203\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"619c2dfd-8c82-4372-bc90-c9b4cf884d5b\",\n            \"name\": \"MIS-22\",\n            \"departmentTag\": \"MIS 22\",\n            \"remarks\": \"Responsible-MIS 22\",\n            \"isActive\": true,\n            \"createdBy\": \"Urmi\",\n            \"creationDate\": \"2025-12-09T15:44:03.363\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"ac0f0e82-c8e3-4d82-9b43-df60040bcce3\",\n            \"name\": \"MIS-22\",\n            \"departmentTag\": \"MIS 22\",\n            \"remarks\": \"Responsible-MIS 22\",\n            \"isActive\": true,\n            \"createdBy\": \"Urmi\",\n            \"creationDate\": \"2025-12-09T15:36:44.927\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"73aa7362-a511-4d16-85fe-dcad105181dd\",\n            \"name\": \"string\",\n            \"departmentTag\": \"string\",\n            \"remarks\": \"string\",\n            \"isActive\": true,\n            \"createdBy\": \"string\",\n            \"creationDate\": \"2025-12-09T15:16:34.95\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"5dd00143-920e-4d8d-a46a-3ca25c671532\",\n            \"name\": \"MIS-New\",\n            \"departmentTag\": \"MIS New\",\n            \"remarks\": \"Responsible-MIS New\",\n            \"isActive\": true,\n            \"createdBy\": \"Jakia\",\n            \"creationDate\": \"2025-12-07T17:44:47.583\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"5b3429c4-f5d1-406c-9565-1be328c0ca46\",\n            \"name\": \"MIS-Test\",\n            \"departmentTag\": \"MIS Test\",\n            \"remarks\": \"Responsible-MIS Test\",\n            \"isActive\": true,\n            \"createdBy\": \"Jakia\",\n            \"creationDate\": \"2025-12-07T16:47:41.95\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"92fe4a53-b83a-40ed-9b0a-5f7ecc1155bb\",\n            \"name\": \"MIS Dev\",\n            \"departmentTag\": \"MIS Dev\",\n            \"remarks\": \"Responsible-MIS Dev\",\n            \"isActive\": true,\n            \"createdBy\": \"Jakia\",\n            \"creationDate\": \"2025-12-07T16:17:17.297\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"8834157c-ef07-410b-a8d6-56abf11777cc\",\n            \"name\": \"MIS Dev\",\n            \"departmentTag\": \"MIS Dev\",\n            \"remarks\": \"Responsible-MIS Dev\",\n            \"isActive\": true,\n            \"createdBy\": \"Jakia\",\n            \"creationDate\": \"2025-12-07T16:15:38.597\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"72dff7c0-332b-44fb-90bb-2d92dda5b70f\",\n            \"name\": \"string\",\n            \"departmentTag\": \"string\",\n            \"remarks\": \"string\",\n            \"isActive\": true,\n            \"createdBy\": \"string\",\n            \"creationDate\": \"2025-12-07T16:13:53.443\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"c58b47f7-0004-4531-bb97-8b364ceaea3d\",\n            \"name\": \"MIS dept. - Support\",\n            \"departmentTag\": \"MIS-Supp\",\n            \"remarks\": \"Responsible-MIS Supp\",\n            \"isActive\": true,\n            \"createdBy\": \"Jakia\",\n            \"creationDate\": \"2025-12-07T16:06:56.737\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"976cc286-c583-4a3e-8511-c9658aa32892\",\n            \"name\": \"MIS dept. - SD\",\n            \"departmentTag\": \"MIS-SD\",\n            \"remarks\": \"Responsible - MIS SD\",\n            \"isActive\": true,\n            \"createdBy\": \"Jakia\",\n            \"creationDate\": \"2025-12-07T16:05:51.397\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"f38065c2-f193-48df-a45d-4e4268a5796f\",\n            \"name\": \"MIS dept. - SD\",\n            \"departmentTag\": \"MIS-SD\",\n            \"remarks\": \"Responsible - MIS SD\",\n            \"isActive\": true,\n            \"createdBy\": \"{{createdBy}}\",\n            \"creationDate\": \"2025-12-07T14:26:52.537\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"890055f3-528c-4152-90db-a75b68fbf525\",\n            \"name\": \"MIS dept. - SD\",\n            \"departmentTag\": \"MIS-SD\",\n            \"remarks\": \"Responsible - MIS SD\",\n            \"isActive\": true,\n            \"createdBy\": \"{{createdBy}}\",\n            \"creationDate\": \"2025-12-07T14:25:19.583\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"c3b0e6b2-7546-41df-8eb6-e1427695910b\",\n            \"name\": \"string\",\n            \"departmentTag\": \"string\",\n            \"remarks\": \"string\",\n            \"isActive\": true,\n            \"createdBy\": \"string\",\n            \"creationDate\": \"2025-12-07T14:18:14.39\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"9c5af39f-5321-4146-bd7f-bc48d925d808\",\n            \"name\": \"support\",\n            \"departmentTag\": \"aab\",\n            \"remarks\": \"test \",\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-12-07T12:53:25.043\",\n            \"modifiedBy\": null,\n            \"modificationDate\": \"2025-12-07T12:53:45.477\"\n        },\n        {\n            \"id\": \"8e8cdaf5-86cd-4497-9347-7cb8b01d7cc0\",\n            \"name\": \"IT Department\",\n            \"departmentTag\": \"MIS\",\n            \"remarks\": null,\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-12-07T10:09:59.743\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"2b3a7a30-2dbd-490c-b833-60ce546dc534\",\n            \"name\": \"Human Resource Management\",\n            \"departmentTag\": \"HRM\",\n            \"remarks\": null,\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-12-07T08:52:21.027\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"d19f22c3-a2e3-49a5-8fdc-ca79ab4527e4\",\n            \"name\": \"MIS dept.\",\n            \"departmentTag\": \"MIS\",\n            \"remarks\": \"Responsible for \",\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-12-02T16:35:13.253\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"3f2f47cd-bcc1-40f3-b1be-96685385e508\",\n            \"name\": \"MIS\",\n            \"departmentTag\": \"MIS\",\n            \"remarks\": \"Responsible for \",\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-12-02T16:32:36.137\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"431a3481-385e-4e2e-9093-93c34b430d06\",\n            \"name\": \"MIS DEPT 2\",\n            \"departmentTag\": \"MIS 2\",\n            \"remarks\": \"This is a sentence.\",\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-12-02T16:30:06.967\",\n            \"modifiedBy\": null,\n            \"modificationDate\": \"2025-12-02T16:31:36.293\"\n        },\n        {\n            \"id\": \"4b608708-bacd-41c0-9aad-64cb10b273cc\",\n            \"name\": \"IBD\",\n            \"departmentTag\": \"IBD\",\n            \"remarks\": \"ada\",\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-12-02T16:29:44.56\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"f54b53eb-00fd-431a-a9d5-97142a81e644\",\n            \"name\": \"Management Information System\",\n            \"departmentTag\": \"dev 2\",\n            \"remarks\": null,\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-11-30T11:02:37.547\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"eb31e96c-c681-4bab-8874-7d01a4e16a63\",\n            \"name\": \"MIS 2\",\n            \"departmentTag\": \"MIS2\",\n            \"remarks\": null,\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-11-30T11:01:07.007\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"a0b71f87-2b08-4cd8-88b8-4565e7b0a77a\",\n            \"name\": \"IBD\",\n            \"departmentTag\": \"IBD\",\n            \"remarks\": null,\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-11-30T10:43:45.077\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"430c6c46-fcbd-4942-88fa-dc85cd2abf32\",\n            \"name\": \"Supply Chain 2\",\n            \"departmentTag\": \"SCM 2\",\n            \"remarks\": null,\n            \"isActive\": true,\n            \"createdBy\": \"admin\",\n            \"creationDate\": \"2025-11-30T10:42:39.373\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"32c51ba2-e533-4b55-9897-8c0cb036e901\",\n            \"name\": \"string\",\n            \"departmentTag\": \"string\",\n            \"remarks\": \"string\",\n            \"isActive\": true,\n            \"createdBy\": \"string\",\n            \"creationDate\": \"2025-11-30T09:45:50.887\",\n            \"modifiedBy\": null,\n            \"modificationDate\": null\n        },\n        {\n            \"id\": \"88af03a6-9d8e-4121-b45e-0dcfe71f9cb0\",\n            \"name\": \"SMD\",\n            \"departmentTag\": \"marketing\",\n            \"remarks\": null,\n            \"isActive\": true,\n            \"createdBy\": \"Admin\",\n            \"creationDate\": \"2025-11-26T10:12:20.943\",\n            \"modifiedBy\": null,\n            \"modificationDate\": \"2025-11-27T17:40:46.423\"\n        },\n        {\n            \"id\": \"03d4a5c1-7137-4892-9d8a-4d3b40c1c72b\",\n            \"name\": \"Management Information System\",\n            \"departmentTag\": \"dev 2\",\n            \"remarks\": \"Text 2\",\n            \"isActive\": true,\n            \"createdBy\": \"Admin\",\n            \"creationDate\": \"2025-11-26T10:03:06.873\",\n            \"modifiedBy\": null,\n            \"modificationDate\": \"2025-11-27T17:42:26.293\"\n        }\n    ]\n}"
								}
							]
						},
						{
							"name": "DepartmentID",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"let response = pm.response.json();\r",
											"let dept = response.data;\r",
											"\r",
											"// Basic checks\r",
											"pm.test(\"Status code is 200\", () => pm.response.to.have.status(200));\r",
											"pm.test(\"Department object returned\", () => pm.expect(dept).to.be.an(\"object\"));\r",
											"\r",
											"// Save status\r",
											"pm.environment.set(\"previousStatus\", dept.isActive);\r",
											"\r",
											"// Validate matching ID\r",
											"pm.test(\"Department ID matches saved ID\", () =>\r",
											"    pm.expect(dept.id).to.eql(pm.environment.get(\"departmentId\"))\r",
											");\r",
											"\r",
											"console.log(\"Previous isActive:\", dept.isActive);\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/v1/departments/{{departmentId}}",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"departments",
										"{{departmentId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Toggle Status",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"let response = pm.response.json();\r",
											"\r",
											"// Basic response validation\r",
											"pm.test(\"Status code is 200\", () => pm.response.to.have.status(200));\r",
											"pm.test(\"Success flag is true\", () => pm.expect(response.success).to.be.true);\r",
											"\r",
											"// Extract returned dept info (if backend returns data)\r",
											"let updated = response.data;\r",
											"\r",
											"// Verify backend returned an object\r",
											"pm.test(\"Backend returned updated department\", () => {\r",
											"    pm.expect(updated).to.be.an(\"object\");\r",
											"    pm.expect(updated.id).to.exist;\r",
											"});\r",
											"\r",
											"// Compare status change\r",
											"let previous = pm.environment.get(\"previousStatus\");\r",
											"\r",
											"pm.test(\"Department status is toggled\", () => {\r",
											"    pm.expect(updated.isActive).to.not.equal(previous);\r",
											"});\r",
											"\r",
											"// Save new status for next tests\r",
											"pm.environment.set(\"previousStatus\", updated.isActive);\r",
											"\r",
											"console.log(\"Previous:\", previous, \" | Now:\", updated.isActive);\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/v1/departments/{{departmentId}}/toggle-status",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"departments",
										"{{departmentId}}",
										"toggle-status"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Project Type",
					"item": []
				},
				{
					"name": "Units",
					"item": []
				},
				{
					"name": "Currencies",
					"item": []
				},
				{
					"name": "Users",
					"item": [
						{
							"name": "Create User",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Parse response JSON once\r",
											"let response = pm.response.json();\r",
											"\r",
											"// Test status code\r",
											"pm.test(\"Status code is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"// Parse request body\r",
											"let requestBodyRaw = pm.request.body.raw;\r",
											"let requestBody = JSON.parse(requestBodyRaw);\r",
											"\r",
											"// Validate required request fields\r",
											"pm.test(\"Request body has userName\", () => {\r",
											"    pm.expect(requestBody.userName, \"Missing userName in request body\").to.exist;\r",
											"});\r",
											"\r",
											"// Save environment variable\r",
											"pm.environment.set(\"createdUserName\", requestBody.userName);\r",
											"\r",
											"// Validate response fields\r",
											"pm.test(\"User creation successful\", () => {\r",
											"    pm.expect(response.success).to.be.true;\r",
											"    pm.expect(response.statusCode).to.eql(200);\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"userTypeCode\": \"UT-001\",\r\n  \"userName\": \"JJJJJ\",\r\n  \"isActive\": true,\r\n  \"creator\": \"admin\",\r\n  \"creationDate\": \"2025-12-11T08:17:32.112Z\",\r\n  \"twoFactorAuthEnabled\": true,\r\n  \"twoFactorAuthChannel\": \"SMS\",\r\n  \"twoFactorAuthDestination\": \"+8801700000000\"\r\n}\r\n",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/users",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "All Users",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Parse response JSON\r",
											"let response = pm.response.json();\r",
											"\r",
											"// Basic response validation\r",
											"pm.test(\"Status code is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Users loaded successfully\", () => {\r",
											"    pm.expect(response.success).to.be.true;\r",
											"    pm.expect(response.statusCode).to.eql(200);\r",
											"    pm.expect(response.message).to.eql(\"Users loaded\");\r",
											"});\r",
											"\r",
											"// Ensure data array is returned\r",
											"pm.test(\"Users list returned\", () => {\r",
											"    pm.expect(response.data).to.be.an(\"array\");\r",
											"    pm.expect(response.data.length, \"No users found\").to.be.greaterThan(0);\r",
											"});\r",
											"\r",
											"// Extract first user from list\r",
											"let firstUser = response.data[0];\r",
											"\r",
											"// Save required fields\r",
											"pm.environment.set(\"creator\", firstUser.creator);\r",
											"pm.environment.set(\"userTypeCode\", firstUser.userTypeCode);\r",
											"pm.environment.set(\"userCode\", firstUser.userCode);\r",
											"\r",
											"// Also store as Shared (Global) variables\r",
											"pm.globals.set(\"creator\", firstUser.creator);\r",
											"pm.globals.set(\"userTypeCode\", firstUser.userTypeCode);\r",
											"pm.globals.set(\"userCode\", firstUser.userCode);\r",
											"\r",
											"// Validate fields exist\r",
											"pm.test(\"Required fields exist\", () => {\r",
											"    pm.expect(firstUser.creator, \"creator missing\").to.exist;\r",
											"    pm.expect(firstUser.userTypeCode, \"userTypeCode missing\").to.exist;\r",
											"    pm.expect(firstUser.userCode, \"userCode missing\").to.exist;\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/v1/users?isActive=true",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"users"
									],
									"query": [
										{
											"key": "isActive",
											"value": "true"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Vendor",
					"item": []
				},
				{
					"name": "URS",
					"item": []
				}
			]
		},
		{
			"name": "Transaction",
			"item": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": ""
		},
		{
			"key": "departmentName",
			"value": ""
		},
		{
			"key": "departmentId",
			"value": ""
		},
		{
			"key": "createdBy",
			"value": ""
		},
		{
			"key": "targetName",
			"value": ""
		},
		{
			"key": "isActive",
			"value": ""
		}
	]
}